"use strict";(self["webpackChunkwdc_project"]=self["webpackChunkwdc_project"]||[]).push([[732],{2375:function(e,t,a){a.d(t,{Z:function(){return q}});var n=a(6252);const r={class:"cal-wrapper"},i={class:"cal",ref:"cal"};function s(e,t,a,s,d,o){const l=(0,n.up)("calendar-column");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",i,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.concatenatedData,((e,t,r)=>((0,n.wg)(),(0,n.j4)(l,{key:t,data:e,day:o.days[r],precision:a.precision},null,8,["data","day","precision"])))),128))],512)])}var d=a(3577);const o={class:"cal-column-header"},l={class:"dayname"},c={class:"daynum"},u={class:"cal-column-body"},g={class:"cal-column-body-slotgrid"},m={class:"cal-column-body-eventgrid"};function p(e,t,a,r,i,s){const p=(0,n.up)("calendar-event");return(0,n.wg)(),(0,n.iD)("div",{class:(0,d.C_)(["cal-column",{selected:i.active}])},[(0,n._)("div",o,[(0,n._)("span",l,(0,d.zw)(a.day.toLocaleString("default",{weekday:"long"})),1),(0,n._)("span",c,(0,d.zw)(a.day.getDate()),1)]),(0,n._)("div",u,[(0,n._)("div",g,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(24,(e=>(0,n._)("div",{class:"cal-column-body-slotgrid--lines",key:`${e}`},(0,d.zw)(e)+":00 ",1))),64))]),(0,n._)("div",m,[(new Date).getDay()===a.day.getDay()?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"index",style:(0,d.j5)({top:i.scrollPercent+"%"})},null,4)):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.positioning,((e,t)=>((0,n.wg)(),(0,n.j4)(p,{key:t,data:e},null,8,["data"])))),128))])])],2)}function h(e,t,a,r,i,s){return(0,n.wg)(),(0,n.iD)("div",{class:(0,d.C_)(["cal-event",{selected:i.opened}]),style:(0,d.j5)(s.getPos(a.data.grid))},[(0,n._)("div",{class:"cal-event-content",style:(0,d.j5)(s.getColor),onClick:t[0]||(t[0]=e=>i.opened=!i.opened)},(0,d.zw)(a.data.e.summary),5)],6)}const v=(e,t)=>{var a=(e.getTime()-t.getTime())/1e3;return a/=60,Math.abs(Math.round(a))},f=(e,t)=>e.getTime()<t.getTime(),T=(e,t)=>e.getTime()>t.getTime(),w=(e,t)=>e.getTime()===t.getTime(),y=e=>{e=new Date(e);var t=e.getDay(),a=e.getDate()-t+(0==t?-6:1);return new Date(e.setDate(a))},D=(e,t)=>{const a=e;return a.setDate(a.getDate()+t),a};var _={name:"calendareventv2",props:{data:Object},data(){return{opened:!1}},computed:{getColor(){const e=e=>{const t=parseInt(e[1]+e[2],16),a=parseInt(e[3]+e[4],16),n=parseInt(e[5]+e[6],16),r=(.299*t+.587*a+.114*n)/255;return r>.5?"#454545":"#FFFFFF"};return Array.isArray(this.data.color)?{background:this.multicolor(this.data.color)}:{backgroundColor:this.data.owner.color,color:e(this.data.owner.color)}}},methods:{multicolor(e){let t="repeating-linear-gradient(45deg",a=50/e.length;for(var n=0;n<e.length;n++)t+=`,${e[n]} ${a*n}%, ${e[n]} ${a*(n+1)}%`;return t+=")",t},timeToPercent(e){let t=(e-0)/1440,a=100*t+0;return a+"%"},durationToPercent(e){let t=(e-0)/1440,a=100*t+0;return a+"%"},getPos({start:e,end:t,indent:a,index:n,indexOf:r}){let i=e.getMinutes()+60*e.getHours(),s=v(e,t);if(this.opened)return{position:"absolute",right:"0px",left:"2.5px",top:this.timeToPercent(i),height:this.durationToPercent(s)};let d=90;null!==n&&(d/=r);let o=5,l=a*o;null!==n&&(l+=d*(n-1)),a>0&&null==n&&(d-=a*o),a>0&&null!==n&&(d=(95-a*(o+1))/r,l=a*(o+1)+d*(n-1));let c=4;return a>c&&null==n&&(l=o*(a%c),d=95),a>c&&null!==n&&(d=(95-a%c*(o+1))/r,l=a%c*(o+1)+d*(n%c-1)),{position:"absolute",width:d+"%",left:l+"%",top:this.timeToPercent(i),height:this.durationToPercent(s)}}}},k=a(3744);const b=(0,k.Z)(_,[["render",h],["__scopeId","data-v-c0e65470"]]);var C=b,P={name:"calendarcolumn",components:{CalendarEvent:C},props:{precision:Number,day:Date,data:Array},data(){return{scrollPercent:0,editing:!1,active:!1}},created(){let e=new Date,t=e.getMinutes()+60*e.getHours();this.scrollPercent=(t-0)/1440*100+0},computed:{positioning(){return this.data?[...this.data].sort(((e,t)=>w(e.grid.start,t.grid.start)?t.grid.dur-e.grid.dur:v(e.grid.start,t.grid.start))).map((e=>{let t=this.data.filter((t=>f(t.grid.start,e.grid.start)&&T(t.grid.end,e.grid.start)));if(0==t.length)e.grid["indent"]=0;else{let a=1;t.forEach((e=>{e.grid.indent&&e.grid.indent>=a&&(a=e.grid.indent+1)})),e.grid["indent"]=a}let a=this.data.filter((t=>w(t.grid.start,e.grid.start)));if(a.length<=1)e.grid["index"]=null,e.grid["indexOf"]=null;else{let t=1;a.forEach((e=>{e.grid.index&&e.grid.index==t&&t++})),e.grid["index"]=t,e.grid["indexOf"]=a.length}return e})):[]}}};const x=(0,k.Z)(P,[["render",p],["__scopeId","data-v-1e2e5d98"]]);var M=x,Z={name:"vue-google-calendar",components:{CalendarColumn:M},props:{precision:{type:Number,default:30},data:Array,selected:{type:Date,default:()=>new Date}},mounted(){let e=new Date,t=e.getMinutes()+60*e.getHours(),a=(t-0)/1440*100+0;this.$refs.cal.scrollTop=a/100*this.$refs.cal.scrollHeight-this.$refs.cal.clientHeight/2},computed:{days(){let e=[];for(var t=0;t<7;t++)e.push(D(y(new Date),t));return e},concatenatedData(){const e=e=>{let t=e.getMinutes(),a=e.getHours(),n=1,r=0;while(this.precision*n<60)r=this.precision*n,n++;return t>r&&a++,t=((t+this.precision/2)/this.precision|0)*this.precision%60,e.setHours(a),e.setMinutes(t),e.setSeconds(0),e.setMilliseconds(0),e};let t={mon:[],tue:[],wed:[],thu:[],fri:[],sat:[],sun:[]};return this.data&&this.data.forEach((a=>a.dates.forEach((n=>{let r=new Date(n.start.date||n.start.dateTime),i=new Date(n.end.date||n.end.dateTime),s=new Date(r).toLocaleString("default",{weekday:"short"}).toLowerCase();console.log(s);let d={id:n.id,color:a.color,owner:a,e:n,grid:{start:e(r),end:r.getTime()!=i.getTime()?e(i):e(i.setMinutes(i.getMinutes(),this.precision)),dur:r.getTime()!=i.getTime()?Math.round(v(i,r)/this.precision):Math.round((v(i,r)+this.precision)/this.precision)}},o=[];if(n.attendees&&this.data.forEach((e=>e.dates.forEach((t=>{n.attendees&&t.id===n.id&&o.push(e.color)})))),o.length>1){let e=t[s].find((e=>e.id==n.id));e||(d.color=o,t[s].push(d))}else console.log(t),t[s].push(d)})))),t}}};const H=(0,k.Z)(Z,[["render",s],["__scopeId","data-v-7c3a223e"]]);var q=H},9732:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var n=a(6252);const r={id:"container"},i={class:"top"},s={class:"center-div part2"},d=(0,n.Uk)(" Calendar ");function o(e,t,a,o,l,c){const u=(0,n.up)("TOP_BAR"),g=(0,n.up)("vue-google-calendar"),m=(0,n.up)("el-card");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",i,[(0,n.Wm)(u)]),(0,n._)("div",s,[(0,n.Wm)(m,{class:"calendar"},{header:(0,n.w5)((()=>[d])),default:(0,n.w5)((()=>[(0,n.Wm)(g,{data:l.calendarData,class:"calendar_size"},null,8,["data"])])),_:1})])])}var l=a(5189),c=a(2375),u={name:"GOOGLE",components:{VueGoogleCalendar:c.Z,TOP_BAR:l.Z},mounted(){let e=this;e.axios({method:"get",url:"/calendar_event",params:{username:window.sessionStorage.getItem("username"),token:window.sessionStorage.getItem("token")}}).then((function(e){console.log(""),console.log(e),this.calendarData=e.data})).catch((function(e){console.log(""),console.log(e.message)}))},data(){return{calendarData:[{id:"test-user2e@test-email.ai",summary:"description ....",color:"#a5e9e1",dates:[{id:"7413lef3g1hip8hvk6tbipkqrq_20200917T140000Z",summary:"test\n2020-09-17T10:00:00-04:40",start:{dateTime:"2020-09-17T10:00:00-05:40"},end:{dateTime:"2020-09-17T11:00:00-07:40"}}]},{id:"test-user2e@test-email.ai",summary:"description ....",color:"#cd74e6",dates:[{id:"7413lef3g1hip8hvk6tbipkqrq_20200917T140000Z",summary:"test\n2020-09-17T10:00:00-04:40",start:{dateTime:"2020-09-17T10:00:00-05:40"},end:{dateTime:"2020-09-17T11:00:00-07:40"}}]},{id:"test-user2e@test-email.ai",summary:"description ....",color:"#cd7",dates:[{id:"7413lef3g1hip8hvk6tbipkqrq_20200917T140000Z",summary:"test\n2020-09-16T10:03:00-08:37",start:{dateTime:"2020-09-16T10:03:00-07:37"},end:{dateTime:"2020-09-16T11:03:00-08:37"}}]},{id:"test-user2e@test-email.ai",summary:"description ....",color:"#388186",dates:[{id:"7413lef3g1hip8hvk6tbipkqrq_20200917T140000Z",summary:"test\n2020-09-18T10:04:00-06:30",start:{dateTime:"2020-09-18T10:04:00-04:30"},end:{dateTime:"2020-09-18T11:04:00-06:30"}}]}]}}},g=a(3744);const m=(0,g.Z)(u,[["render",o],["__scopeId","data-v-7b8623c0"]]);var p=m}}]);
//# sourceMappingURL=732.4477f40e.js.map